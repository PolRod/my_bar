#+TITLE: My Bar

* Help
Do prices first?
* Parameters
** Drink Name
- Sets the base price
** Time
- Changes the price for happy hours
- Changes the items for happy hours
* Drinks
** Beet juice
:PRICE: 5.0
** Cleansing Shot
:PRICE: 3.0
** Mangohattan
:PRICE: 7.0
** Mangotini
:PRICE: 7.0
* Happy Hours
** [14:00-16:00]
Half price mango drinks
** [20:00-22:00]
Free Cleansing Shot with Beet Juice
** [06:00-08:00]
:PROPERTIES:
:WHAT: Ask question
Buy one Mangotini or Mangohattan get the other half off

* Definition
Order -> Time -> ([Recipes], Bill)

* Spec
#+BEGIN_SRC ruby
describe '#bartender_gimme' do

end
#+END_SRC
* Traps
#+BEGIN_SRC ruby
  if !(time < happy_hour_start || time > happy_hour_end)
  # during happy hour
    if drink_name != 'Mangohattan' && drink_name != 'Mangotini'
      # not mixed drink
      order.items << 'Cleansing Shot' unless drink_name == 'Cleansing Shot'
    end
  end
#+END_SRC
